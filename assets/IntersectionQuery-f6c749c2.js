import{r as L,c as K}from"./index-1b03fe98.js";import{f as q,d as v}from"./Icon-0f63e463.js";class M{constructor(t=0,s=0){this.x=t,this.y=s}static fromPoints(t,s){return new M(s.x-t.x,s.y-t.y)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}magnitude(){return this.x*this.x+this.y*this.y}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}determinant(t){return this.x*t.y-this.y*t.x}unit(){return this.divide(this.length())}add(t){return new this.constructor(this.x+t.x,this.y+t.y)}subtract(t){return new this.constructor(this.x-t.x,this.y-t.y)}multiply(t){return new this.constructor(this.x*t,this.y*t)}divide(t){return new this.constructor(this.x/t,this.y/t)}angleBetween(t){let s=this.dot(t)/(this.length()*t.length());s=Math.max(-1,Math.min(s,1));const e=Math.acos(s);return this.cross(t)<0?-e:e}perp(){return new this.constructor(-this.y,this.x)}perpendicular(t){return this.subtract(this.project(t))}project(t){const s=this.dot(t)/t.dot(t);return t.multiply(s)}transform(t){return new this.constructor(t.a*this.x+t.c*this.y,t.b*this.x+t.d*this.y)}equals(t){return this.x===t.x&&this.y===t.y}precisionEquals(t,s){return Math.abs(this.x-t.x)<s&&Math.abs(this.y-t.y)<s}toString(){return`vector(${this.x},${this.y})`}}const W=()=>{const l=new Map;let t=[];const s=i=>{i.forEach(n=>{if(!n.disabled)if(n.ref){if(!n.ref.current)return;const a=n.ref.current;l.has(a)||l.set(a,new q(a)),l.get(a).bind(n.keys,n.callback,n.action)}else l.get(void 0)||l.set(void 0,q),l.get(void 0).bind(n.keys,n.callback,n.action)})},e=i=>{t=[...t,...i],s(i)},r=i=>{t=t.filter(n=>!i.includes(n)),i.forEach(n=>{var a,o;if(n.ref){if(!n.ref.current)return;(a=l.get(n.ref.current))==null||a.unbind(n.keys,n.action)}else(o=l.get(void 0))==null||o.unbind(n.keys,n.action)});for(const[n]of l){if(n===void 0){if(t.some(a=>a.ref===void 0))continue}else if(t.some(a=>{var o;return((o=a.ref)==null?void 0:o.current)===n}))continue;l.delete(n)}s(t)};return()=>{const[i,n]=L.useState([]);return L.useEffect(()=>{n(t)},[]),[i,e,r]}},J=W(),nt=l=>{const[t,s,e]=J();return L.useLayoutEffect(()=>(l&&s(l),()=>{l&&e(l)}),[s,e,l]),L.useMemo(()=>t.reduce((r,i)=>(r.find(n=>n.keys===i.keys&&n.ref&&i.ref)||r.push(i),r),[]),[t])};let I=!1;try{navigator&&(I=navigator.platform.toUpperCase().indexOf("MAC")>=0)}catch(l){console.warn(l)}var V={exports:{}};(function(l,t){(function(e,r){l.exports=r()})(typeof self<"u"?self:K,function(){return function(s){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i,l:!1,exports:{}};return s[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=s,r.c=e,r.d=function(i,n,a){r.o(i,n)||Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:a})},r.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(n,"a",n),n},r.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},r.p="",r(r.s=0)}([function(s,e,r){s.exports=r(1)},function(s,e,r){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},n=r(2),a=function c(u,f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];for(var p in f)f.hasOwnProperty(p)&&d.indexOf(p)===-1&&(!u.hasOwnProperty(p)||typeof u[p]>"u"?u[p]=f[p]:i(u[p])==="object"&&c(u[p],f[p]));return u},o=function(){for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return f[0]=n(f[0]),a.apply(void 0,f)};s.exports=a,s.exports.copy=o},function(s,e,r){var i,n,a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};(function(o,c,u){a(e)==="object"?s.exports=u():(i=u,n=typeof i=="function"?i.call(e,r,e,s):i,n!==void 0&&(s.exports=n))})("dcopy",void 0,function(){return function(c){if(/number|string|boolean/.test(typeof c>"u"?"undefined":a(c)))return c;if(c instanceof Date)return new Date(c.getTime());var u=c instanceof Array?[]:{};return f(c,u),u;function f(d,p){for(var b in d){var m=d[b];if(m instanceof Date){var x=new Date(m.getTime());o(p,b,x)}else if(m instanceof Function){var x=m;o(p,b,x)}else if(m instanceof Array){var x=[],C=o(p,b,x);f(m,C)}else if(m instanceof Object){var x={},C=o(p,b,x);f(m,C)}else{var x=m;o(p,b,x)}}}};function o(c,u,f){if(c instanceof Array)return c.push(f),c[c.length-1];if(c instanceof Object)return c[u]=f,c[u]}})}])})})(V);var rt=V.exports;class y{constructor(t,s){this.type=t,this.text=s}typeis(t){return this.type===t}}y.UNDEFINED=0;y.COMMAND=1;y.NUMBER=2;y.EOD=3;class j{constructor(t){t==null&&(t=""),this.setPathData(t)}setPathData(t){if(typeof t!="string")throw new TypeError("The first parameter must be a string");this._pathData=t}getNextToken(){let t=null,s=this._pathData;for(;t===null;)if(s===null||s==="")t=new y(y.EOD,"");else if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([AaCcHhLlMmQqSsTtVvZz])/))t=new y(y.COMMAND,RegExp.$1),s=s.substr(RegExp.$1.length);else if(s.match(/^(([-+]?\d+(\.\d*)?|[-+]?\.\d+)([eE][-+]?\d+)?)/))t=new y(y.NUMBER,RegExp.$1),s=s.substr(RegExp.$1.length);else throw new SyntaxError(`Unrecognized path data: ${s}`);return this._pathData=s,t}}const S="BOP";class g{constructor(){this._lexer=new j,this._handler=null}parseData(t){if(typeof t!="string")throw new TypeError(`The first parameter must be a string: ${t}`);this._handler!==null&&typeof this._handler.beginParse=="function"&&this._handler.beginParse();const s=this._lexer;s.setPathData(t);let e=S,r=null,i=s.getNextToken();for(;i.typeis(y.EOD)===!1;){let n;const a=[];switch(i.type){case y.COMMAND:if(e===S&&i.text!=="M"&&i.text!=="m")throw new SyntaxError(`New paths must begin with a moveto command. Found '${i.text}'`);e=i.text,n=g.PARAMCOUNT[i.text.toUpperCase()],i=s.getNextToken();break;case y.NUMBER:if(e===S)throw new SyntaxError(`New paths must begin with a moveto command. Found '${i.text}'`);n=g.PARAMCOUNT[e.toUpperCase()];break;default:throw new SyntaxError(`Unrecognized command type: ${i.type}`)}for(let o=0;o<n;o++){switch(i.type){case y.COMMAND:throw new SyntaxError(`Parameter must be a number. Found '${i.text}'`);case y.NUMBER:a[o]=parseFloat(i.text);break;case y.EOD:throw new SyntaxError("Unexpected end of string");default:throw new SyntaxError(`Unrecognized parameter type. Found type '${i.type}'`)}i=s.getNextToken()}if(this._handler!==null){const o=this._handler,c=g.METHODNAME[e];(e==="a"||e==="A")&&(a[3]=a[3]!==0,a[4]=a[4]!==0),o!==null&&typeof o[c]=="function"&&o[c](...a)}switch(e){case"M":e="L";break;case"m":e="l";break;case"Z":case"z":e="BOP";break}if(i===r)throw new SyntaxError(`Parser stalled on '${i.text}'`);r=i}this._handler!==null&&typeof this._handler.endParse=="function"&&this._handler.endParse()}setHandler(t){this._handler=t}}g.PARAMCOUNT={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0};g.METHODNAME={A:"arcAbs",a:"arcRel",C:"curvetoCubicAbs",c:"curvetoCubicRel",H:"linetoHorizontalAbs",h:"linetoHorizontalRel",L:"linetoAbs",l:"linetoRel",M:"movetoAbs",m:"movetoRel",Q:"curvetoQuadraticAbs",q:"curvetoQuadraticRel",S:"curvetoCubicSmoothAbs",s:"curvetoCubicSmoothRel",T:"curvetoQuadraticSmoothAbs",t:"curvetoQuadraticSmoothRel",V:"linetoVerticalAbs",v:"linetoVerticalRel",Z:"closePath",z:"closePath"};const tt=2*Math.PI;function Q(l,t,s,e,r,i,n){r=r*Math.PI/180;const a=Math.cos(r),o=Math.sin(r),c=1e-6,u=l.subtract(t).multiply(.5),f=u.x*a+u.y*o,d=u.x*-o+u.y*a;s=Math.abs(s),e=Math.abs(e);const p=f*f,b=d*d,m=p/(s*s)+b/(e*e);if(m>1){const H=Math.sqrt(m);s*=H,e*=H}const x=s*s,C=e*e,X=x*b,E=C*p;let Y=(x*C-X-E)/(X+E);Math.abs(Y)<c&&(Y=0);let A=Math.sqrt(Y);i===n&&(A=-A);const N=l.add(t).multiply(.5),R=A*s*d/e,T=A*-e*f/s,O=(f-R)/s,k=(f+R)/s,z=(d-T)/e,G=(d+T)/e,U=new M(1,0).angleBetween(new M(O,z));let $=new M(O,z).angleBetween(new M(-k,-G));return n===!1&&($-=tt),[R*a-T*o+N.x,R*o+T*a+N.y,s,e,U,U+$]}class st{constructor(t){this.shapeCreator=t,this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}beginParse(){this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}addShape(t){this.shapes.push(t)}arcAbs(t,s,e,r,i,n,a){if(t===0||s===0)this.addShape(this.shapeCreator.line(this.lastX,this.lastY,n,a));else{const o=Q(new v(this.lastX,this.lastY),new v(n,a),t,s,e,r,i);this.addShape(this.shapeCreator.arc(...o))}this.lastCommand="A",this.lastX=n,this.lastY=a}arcRel(t,s,e,r,i,n,a){if(t===0||s===0)this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+n,this.lastY+a));else{const o=Q(new v(this.lastX,this.lastY),new v(this.lastX+n,this.lastY+a),t,s,e,r,i);this.addShape(this.shapeCreator.arc(...o))}this.lastCommand="a",this.lastX+=n,this.lastY+=a}curvetoCubicAbs(t,s,e,r,i,n){this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,t,s,e,r,i,n)),this.lastX=i,this.lastY=n,this.lastCommand="C"}curvetoCubicRel(t,s,e,r,i,n){this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,this.lastX+t,this.lastY+s,this.lastX+e,this.lastY+r,this.lastX+i,this.lastY+n)),this.lastX+=i,this.lastY+=n,this.lastCommand="c"}linetoHorizontalAbs(t){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,t,this.lastY)),this.lastX=t,this.lastCommand="H"}linetoHorizontalRel(t){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+t,this.lastY)),this.lastX+=t,this.lastCommand="h"}linetoAbs(t,s){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,t,s)),this.lastX=t,this.lastY=s,this.lastCommand="L"}linetoRel(t,s){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+t,this.lastY+s)),this.lastX+=t,this.lastY+=s,this.lastCommand="l"}movetoAbs(t,s){this.firstX=t,this.firstY=s,this.lastX=t,this.lastY=s,this.lastCommand="M"}movetoRel(t,s){this.firstX+=t,this.firstY+=s,this.lastX+=t,this.lastY+=s,this.lastCommand="m"}curvetoQuadraticAbs(t,s,e,r){this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,t,s,e,r)),this.lastX=e,this.lastY=r,this.lastCommand="Q"}curvetoQuadraticRel(t,s,e,r){this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,this.lastX+t,this.lastY+s,this.lastX+e,this.lastY+r)),this.lastX+=e,this.lastY+=r,this.lastCommand="q"}curvetoCubicSmoothAbs(t,s,e,r){let i,n;if(this.lastCommand.match(/^[SsCc]$/)){const a=this.shapes[this.shapes.length-1].args[2];i=2*this.lastX-a.x,n=2*this.lastY-a.y}else i=this.lastX,n=this.lastY;this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,i,n,t,s,e,r)),this.lastX=e,this.lastY=r,this.lastCommand="S"}curvetoCubicSmoothRel(t,s,e,r){let i,n;if(this.lastCommand.match(/^[SsCc]$/)){const a=this.shapes[this.shapes.length-1].args[2];i=2*this.lastX-a.x,n=2*this.lastY-a.y}else i=this.lastX,n=this.lastY;this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,i,n,this.lastX+t,this.lastY+s,this.lastX+e,this.lastY+r)),this.lastX+=e,this.lastY+=r,this.lastCommand="s"}curvetoQuadraticSmoothAbs(t,s){let e,r;if(this.lastCommand.match(/^[QqTt]$/)){const i=this.shapes[this.shapes.length-1].args[1];e=2*this.lastX-i.x,r=2*this.lastY-i.y}else e=this.lastX,r=this.lastY;this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,e,r,t,s)),this.lastX=t,this.lastY=s,this.lastCommand="T"}curvetoQuadraticSmoothRel(t,s){let e,r;if(this.lastCommand.match(/^[QqTt]$/)){const i=this.shapes[this.shapes.length-1].args[1];e=2*this.lastX-i.x,r=2*this.lastY-i.y}else e=this.lastX,r=this.lastY;this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,e,r,this.lastX+t,this.lastY+s)),this.lastX+=t,this.lastY+=s,this.lastCommand="t"}linetoVerticalAbs(t){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX,t)),this.lastY=t,this.lastCommand="V"}linetoVerticalRel(t){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX,this.lastY+t)),this.lastY+=t,this.lastCommand="v"}closePath(){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.firstX,this.firstY)),this.lastX=this.firstX,this.lastY=this.firstY,this.lastCommand="z"}}const P=Math.PI*.5,Z=new g;function w(l,t){const s=[];for(const[e,r]of l){let i=null;if(r==="Point2D")i=B(e,t);else if(r==="Number")i=F(e,t);else if(r==="Array<Point2D>"||r==="Point2D[]"){const n=[];for(;t.length>0;)n.push(B(e,t));n.length>0&&(i=n)}else if(r==="Optional<Number>"||r==="Number?")i=F(e,t),i===null&&(i=void 0);else throw new TypeError(`Unrecognized value type: ${r}`);if(i!==null)s.push(i);else throw new TypeError(`Unable to extract value for ${e}`)}return s}function F(l,t){let s=null;if(t.length>0){const e=t[0],r=typeof e;if(r==="number")return t.shift();if(r==="object"){for(const i of l)if(i in e&&typeof e[i]=="number"){s=e[i];break}}}return s}function B(l,t){let s=null;if(t.length>0){const e=t[0],r=typeof e;if(r==="number"){if(t.length>1){const i=t.shift(),n=t.shift();s=new v(i,n)}}else if(Array.isArray(e)&&e.length>1)if(e.length===2){const[i,n]=t.shift();s=new v(i,n)}else throw new TypeError(`Unhandled array of length ${e.length}`);else if(r==="object"){if("x"in e&&"y"in e)s=new v(e.x,e.y),t.shift();else for(const i of l)if(Array.isArray(i)){if(i.every(n=>n in e)){s=new v(e[i[0]],e[i[1]]);break}}else if(i in e){s=B([],[e[i]]);break}}}return s}class h{constructor(t,s){this.name=t,this.args=s}static arc(...t){const e=w([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radiusX","rx"],"Number"],[["radiusY","ry"],"Number"],[["startRadians"],"Number"],[["endRadians"],"Number"]],t);return new h(h.ARC,e)}static quadraticBezier(...t){const e=w([[["p1",["p1x","p1y"]],"Point2D"],[["p2",["p2x","p2y"]],"Point2D"],[["p3",["p3x","p3y"]],"Point2D"]],t);return new h(h.QUADRATIC_BEZIER,e)}static cubicBezier(...t){const e=w([[["p1",["p1x","p1y"]],"Point2D"],[["p2",["p2x","p2y"]],"Point2D"],[["p3",["p3x","p3y"]],"Point2D"],[["p4",["p4x","p4y"]],"Point2D"]],t);return new h(h.CUBIC_BEZIER,e)}static circle(...t){const e=w([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radius","r"],"Number"]],t);return new h(h.CIRCLE,e)}static ellipse(...t){const e=w([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radiusX","rx"],"Number"],[["radiusY","ry"],"Number"]],t);return new h(h.ELLIPSE,e)}static line(...t){const e=w([[["p1",["p1x","p1y"],["x1","y1"]],"Point2D"],[["p2",["p2x","p2y"],["x2","y2"]],"Point2D"]],t);return new h(h.LINE,e)}static path(...t){return Z.parseData(t[0]),new h(h.PATH,_.shapes)}static polygon(...t){const e=w([[[],"Array<Point2D>"]],t.length===1&&Array.isArray(t[0])?t[0]:t);return new h(h.POLYGON,e)}static polyline(...t){const e=w([[[],"Array<Point2D>"]],t.length===1&&Array.isArray(t[0])?t[0]:t);return new h(h.POLYLINE,e)}static rectangle(...t){const e=w([[["topLeft",["x","y"],["left","top"]],"Point2D"],[["size",["width","height"],["w","h"]],"Point2D"],[["radiusX","rx"],"Optional<Number>"],[["radiusY","ry"],"Optional<Number>"]],t),r=e[0],i=e[1];e[1]=new v(r.x+i.x,r.y+i.y);const n=new h(h.RECTANGLE,e);let a=n.args.pop(),o=n.args.pop();if(o=o===void 0?0:o,a=a===void 0?0:a,o===0&&a===0)return n;const{x:c,y:u}=n.args[0],{x:f,y:d}=n.args[1],p=f-c,b=d-u;o===0&&(o=a),a===0&&(a=o),o>p*.5&&(o=p*.5),a>b*.5&&(a=b*.5);const m=c,x=u,C=c+o,X=u+a,E=f-o,Y=d-a,A=f,N=d,R=[h.arc(C,X,o,a,2*P,3*P),h.line(C,x,E,x),h.arc(E,X,o,a,3*P,4*P),h.line(A,X,A,Y),h.arc(E,Y,o,a,0,P),h.line(E,N,C,N),h.arc(C,Y,o,a,P,2*P),h.line(m,Y,m,X)];return new h(h.PATH,R)}}h.ARC="Arc";h.QUADRATIC_BEZIER="Bezier2";h.CUBIC_BEZIER="Bezier3";h.CIRCLE="Circle";h.ELLIPSE="Ellipse";h.LINE="Line";h.PATH="Path";h.POLYGON="Polygon";h.POLYLINE="Polyline";h.RECTANGLE="Rectangle";const _=new st(h);Z.setHandler(_);const D={};D.pointInCircle=function(l,t,s){return M.fromPoints(t,l).length()<=s};D.pointInEllipse=function(l,t,s,e){const r=l.subtract(t);return r.x*r.x/(s*s)+r.y*r.y/(e*e)<=1};D.pointInPolyline=function(l,t){const{length:s}=t;let e=0,r,i=t[0];for(let n=1;n<=s;n++){const a=t[n%s],o=Math.min(i.y,a.y),c=Math.max(i.y,a.y),u=Math.max(i.x,a.x);i.y!==a.y&&o<l.y&&l.y<=c&&l.x<=u&&(r=(l.y-i.y)*(a.x-i.x)/(a.y-i.y)+i.x,(i.x===a.x||l.x<=r)&&e++),i=a}return e%2===1};D.pointInPolygon=D.pointInPolyline;D.pointInRectangle=function(l,t,s){return t.x<=l.x&&l.x<s.x&&t.y<=l.y&&l.y<s.y};export{D as I,rt as d,nt as u};
